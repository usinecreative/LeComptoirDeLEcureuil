<form action=""
      method="post"
      enctype="multipart/form-data">

    <div class="form-group">
        {{ form_row(form.uploadType) }}
    </div>

    <div class="form-group hidden media-choice-item">
        {{ form_row(form.url) }}
    </div>

    <div class="form-group hidden media-choice-item">
        {{ form_row(form.upload) }}
    </div>

    <div class="form-group hidden media-choice-item media-gallery-item">
        {% include '@JKCms/Media/modalGallery.html.twig' %}
    </div>
</form>

<script>
    MediaGallery.init();

    $('.media-choice').on('change', function () {
        var value = $(this).find(':checked').val();

        if (value === 'upload_from_url') {
            $('.media-choice-item').addClass('hidden');
            $('.upload_from_url').parents('.media-choice-item').removeClass('hidden');
        } else if (value === 'upload_from_computer') {
            $('.media-choice-item').addClass('hidden');
            $('.upload_from_computer').parents('.media-choice-item').removeClass('hidden');
        } else if (value === 'choose_from_collection') {
            $('.media-choice-item').addClass('hidden');
            $('.media-gallery-item').removeClass('hidden');
        }

        console.log('trace2', $(this).find(':checked').val());
    });

    $('#add-image-btn').on('click', function () {

        var ids = MediaGallery.getSelectedMediaIds();


        $.get(route, function (data) {
            tinymce.activeEditor.execCommand('mceInsertContent', false, data);
            galleryModal.modal('hide');
        });

        return false;
    });
</script>
