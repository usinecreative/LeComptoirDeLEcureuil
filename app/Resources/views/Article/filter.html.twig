{% extends '::layout.html.twig' %}

{% block content %}
    <div class="col-lg-9 main-content latest-article">
        <h2>{{ filter.parameters | join(', ') | capitalize }}</h2>

        <div class="row">
            {% for article in articles %}
                {% set categoryUrl = path('lecomptoir.article.list_by_category', {categorySlug: article.category.slug}) %}
                {% set categoryLinkTitle = 'lecomptoir.article.go_to_category' | trans({'%category%': article.category.name}) %}
                {% set articleUrl = path('lecomptoir.article.show', article.urlParameters) %}
                {% set articleLinkTitle = 'lecomptoir.article.go_to_read' | trans({'%article%': article.title}) %}

                <div class="col-md-6 article-item">
                <h2 class="ribbon">
                    <a href="{{ categoryUrl }}" title="{{ categoryLinkTitle }}">
                        {{ article.category.name }}
                    </a>
                </h2>
                <a href=""><img src="/img/cover-batard.jpg"/></a>
                <span class="title-date">{{ article.publicationDate | localizeddate('full', 'none') }}</span>

                <h3>
                    <a href="{{ articleUrl }}" title="{{ articleLinkTitle }}">{{ article.title }}</a>
                </h3>

                <p>{{ article.content | striptags | truncate(200) | raw }}
                    <a href="{{ articleUrl }}" title="{{ articleLinkTitle }}" class="more-link">
                        {{ 'lecomptoir.interface.more_link' | trans }}
                        <i class="fa fa-plus-circle"></i>
                    </a>
                </p>

                {% if loop.index is divisible by(2) %}
                    </div>
                    <div class="row">
                {% endif %}
                </div>
            {% endfor %}
        </div>
    </div>
{% endblock %}

